# cache
* 캐시(cache)란 데이터나 값을 미리 복사해놓고 재사용하는 임시 저장소를 말합니다. 컴퓨터 시스템에서 많은 양의 데이터를 처리할 때, 데이터를 불러올 때마다 하드 디스크나 메모리 같은 비교적 느린 저장 장치에서 데이터를 가져와야 하므로 처리 속도가 느려질 수 있습니다. 이를 해결하기 위해, 빠른 속도로 데이터에 접근할 수 있는 캐시 메모리를 사용합니다.

* 캐시 메모리는 주로 CPU나 디스크 등과 같은 느린 하드웨어와 빠른 하드웨어 사이에 위치하며, 데이터가 필요할 때 빠르게 처리할 수 있도록 합니다. 데이터를 처리할 때, 시스템은 먼저 캐시 메모리에 해당 데이터가 있는지 확인하고, 있으면, 그 값을 사용합니다. 이렇게 캐시 메모리를 사용하면 불필요한 디스크I/O나 메모리 엑세스를 줄일 수 있어 전체 시스템의 성능을 향상시킵니다.
# 2021년 OWASP Top 10
2021년 OWASP Top 10 목록은 다음과 같습니다.

1. Broken Access Control

2. Cryptographic Failures

3. Injection

4. Insecure Design

5. Security Misconfiguration

6. Vulnerable and Outdated Components

7. Identification and Authentication Failures

8. Software and Data Intergrity Failures

9. Security Logging and Monitoring Failures

10. Server Side Request Forgery

이러한 취약점들은 웹 애플리케이션에서 많이 발생하는 보안 위협으로, 이들 취약점을 예방하고 대응하기 위해서는 적극적인 보안 대책이 필요합니다. 따라서 OWASP Top 10은 웹 애플리케이션 보안을 위한 가이드 라인으로 활용될 수 있습니다.
# XSS
* XSS (Cross-Site Scripting)란 악성 사용자가 웹 사이트에 스크립트를 삽입하여, 해당 스크립트가 다른 사용자의 웹 브라우저에 실행되도록 하는 공격 기법입니다.

* XSS 공격은 주로 웹 어플리케이션에서 이루어집니다. 해커는 웹 어플리케이션의 취약점을 이용하여 악성 스크립트를 삽입합니다. 이 스크립트는 다른 사용자의 브라우저에 의해 실행되어 정보 유출, 세션 하이재킹 등의 행위를 수행할 수 있습니다.

* 예를 들어, 게시판에 댓글을 작성하는 기능에서 취약점이 발생한다면, 악성 사용자는 댓글 작성 칸에 스크립트를 삽입할 수 있습니다. 그리고 해당 게시글을 열람하는 사용자들은 해당 스크립트가 실행되면서 공격을 받게 됩니다.

* XSS의 종류에는 Stored XSS, Reflected Xss, Dom-Based XSS, Universal XSS 등이 있습니다.

* XSS 공격은 크로스사이트 스크립팅, 스크립트 인젝션 등으로도 불립니다. XSS 공격을 막기 위해서는 입력값을 검증하고 이스케이핑 처리하는 등의 보안 대책이 필요합니다. 또한, 보안 패치가 지속적으로 이루어지는 것이 중요합니다.
# SQL Injection
* SQL Injection은 악의적인 사용자가 웹 응용 프로그램의 입력란에 SQL 쿼리를 삽입하여 데이터베이스를 비롯한 벡엔드 시스템에 엑세스하는 해킹 기법입니다. 일반적으로 SQL Injection은 사용자가 웹 응용 프로그램의 입력 필드에 악성 SQL 코드를 삽입하여 데이터베이스 시스템에서 실행하도록 하는 것으로 수행합니다.

SQL Injection은 주로 다음과 같은 경우에 발생합니다.

* 웹 응용 프로그램에서 사용자 입력을 직접 SQL 쿼리로 구성할 때
* 웹 응용 프로그램에서 사용자 입력을 안전하게 처리하지 않을 때

SQL Injection 공격은 데이터베이스 및 응용 프로그램의 기밀 정보 유출, 수정, 삭제 등의 피해를 가져올 수 있습니다. 이를 방지하기 위해서는 입력값 검증 및 이스케이프 처리 등의 안전한 코딩 기법을 적용하고, 보안 업데이트 및 패치 등을 통해 시스템을 최신 상태로 유지해야 합니다. 또한, 보안 업무 수행 중에는 SQL Injection을 감지할 수 있는 보안 도구를 사용하는 것이 좋습니다.
# Command Injection
* Command Injection은 악의적인 사용자가 애플리케이션에서 실행되는 명령어에 추가적인 명령어를 삽입하여 시스템 자원을 손상시키거나, 기밀 정보를 유출하는 등의 공격 방식을 말합니다.

* Command Injection은 주로 웹  애플리케이션에서 발생하며, 사용자 입력 값으로부터 동적으로 생성되는 명령어에 악의적인 코드를 삽입하는 것으로 이루어집니다. 이 때, 입력 값에 대한 충분한 검증 및 이스케이프가 이루어지지 않은 경우, 공격자는 명령어를 조작하여 시스템에 권한을 획득하거나, 시스템을 마비시키는 등의 공격을 할 수 있습니다.

* 예를 들어, 웹 애플리케이션에서 사용자 입력 값을 받아 명령어를 실행하는 경우, 다음과 같이 취약점이 발생할 수 있습니다.
    ```bash
    $search = $_GET['search'];
    $result = system("grep $search /var/log/messages");
    ```
* 위 코드에서 '$search' 변수에 대한 검증이 이루어지지 않은 경우, 공격자는
 ```'http://example.com/search.php?search=test%20%7C%20rm%20-rf%20%2F'``` 
 와 같은 URL을 이용하여, 'grep' 명령어 뒤에 '| rm -rf/' 와 같은 악성 코드를 삽입할 수 있습니다. 이 경우, 'grep' 명령어가 실행되는 도중 'rm' 명령어도 함께 실행되어 시스템의 파일들이 모두 삭제되는 등의 치명적인 결과를 초래할 수 있습니다.
 * Command Injection을 방지하기 위해서는, 입력 값에 대한 검증 및 이스케이프를 철저하게 수행하여 악성 코드 삽입을 방지해야 합니다. 또한, 시스템에서 실행되는 명령어를 실행하는 방법을 변경하여, 외부 입력 값에 의존하지 않는 방식으로 코드를 작성하는 것이 좋습니다.
# File Vulnerability(파일 취약점)
파일 취약점은 악의적인 사용자가 파일 업로드를 이용하여 서버에 악성 파일을 업로드하거나, 웹 애플리케이션에서 보안 취약점이 존재하여 파일 다운로드나 업로드 등의 파일 관련 작업을 이용하여 공격을 수행하는 것입니다. 파일 취약점을 이용하면 공격자는 서버에서 중요한 데이터를 유출하거나 삭제하는 등의 공격을 수행할 수 있습니다.

일반적으로 파일 취약점은 파일 업로드 관련 취약점, 파일 다운로드 관련 취약점, 파일 경로 조작(File Path Traversal) 취약점 등으로 분류됩니다.
* 파일 업로드 관련 취약점 : 웹 애플리케이션에서 제공하는 파일 업로드 기능을 이용하여 공격자가 원하는 악성 파일을 서버에 업로드할 수 있는 취약점입니다. 공격자는 업로드한 파일을 실행시켜 서버를 조작하거나, 중요한 데이터를 유출할 수 있습니다.

* 파일 다운로드 관련 취약점 : 파일 다운로드 기능에서 보안 취약점이 존재하는 경우, 공격자는 다운로드한 파일을 조작하여 서버를 공격할 수 있습니다.

* 파일 경로 조작 취약점 : 파일 경로 조작은 파일 다운로드 뿐만 아니라, 서버에서 실행되는 파일에도 적용될 수 있습니다. 이 경우 공격자는 파일 경로를 조작하여 서버의 중요한 파일을 삭제하거나 실행시킬 수 있습니다.

파일 취약점을 막기 위해서는, 파일 업로드 기능을 사용할 때 업로드된 파일의 확장자나 크기 등을 체크하고, 파일 다운로드 기능에서는 파일 다운로드 경로를 체크하여 보안을 강화하는 등의 방법이 있습니다. 또한, 웹 애플리케이션에서 서버의 중요한 파일에 대한 접근 권한을 설정하여 파일 취약점을 방지할 수 있습니다.
# 위 4가지 공격의 시큐어 코딩 방법
1. XSS 공격 방어 시큐어 코딩 방법:

* 모든 사용자 입력값에 대해 필터링을 수행하고, 입력값에 대해 이스케이핑(escape)을 적용하여 HTML/JavaScript 코드가 실행되지 않도록 한다.

* 쿠키(Cookie)에 민감한 정보를 저장하지 않는다.

* Content Security Policy(CSP)를 적용하여 XSS공격을 방어한다.

2. SQL Injection 공격 방어 시큐어 코딩 방법:
* 사용자 입력값에 대해 검증을 수행하고, 입력값에 대해 이스케이핑(escape)을 적용하여 SQL Injection 공격을 방어한다.

* Prepared Statement 또는 Stored Procedure와 같은 SQL Injection 방어 메커니즘을 적용한다.

* 최소 권한 원칙을 적용하여 애플리케이션이 필요한 최소한의 데이터에만 접근할 수 있도록 한다.

3. Command Injection 공격 방어 시큐어 코딩 방법:
* 사용자 입력값에 대해 검증을 수행하고, 입력값에 대해 이스케이핑(escape)을 적용하여 Command Injection 공격을 방어한다.

* 시스템 명령어 실행에 사용되는 함수를 사용할 때, 인자값으로부터 shell meta-character를 제거하고, 인자값에 대해 이스케이핑을 적용하여 Command Injection 공격을 방어한다.

* 불필요한 권한을 제거하여 권한 상승 공격을 방어한다.
4. File Vulnerability 공격 방어 시큐어 코딩 방법:
* 파일 업로드 기능에 대해 검증을 수행하고, 파일 이름이나 경로에 대해 검증하고 이스케이핑을 적용하여 파일 업로드 취약점을 방어한다.

* 파일 다운로드 기능에 대해 검증을 수행하고, 다운로드 가능한 파일의 타입과 크기 등에 대한 검증을 수행하여 다운로드 취약점을 방어한다.

* 파일 시스템 접근 권한을 최소한으로 설정하여 파일 시스템 취약점을 방어한다.
# HTTP의 특징
1.무상태(Stateless)
  * HTTP는 무상태(Stateless) 프로토콜로, 클라이언트와 서버 간의 통신이 각각의 요청/응답으로 처리됩니다. 이전 요청의 상태를 저장하지 않기 때문에 독립적으로 처리할 수 있어 확장성이 좋습니다. 하지만 이러한 특성 때문에 세션 상태를 유지해야 하는 경우에는 별도의 메커니즘이 필요합니다.

2.요청/응답 모델(Request/Response Model) 
* HTTP는 클라이언트에서 서버로 요청(Request)를 보내고, 서버에서 클라이언트로 응답(Response)을 보내는 요청/응답 모델을 사용합니다. 요청 메시지는 요청 라인, 헤더, 바디로 구성되며, 응답 메시지는 상태라인, 헤더, 바디로 구성됩니다.

3.Connectionless
* HTTP는 기본적으로 Connectionless 프로토콜입니다. 즉, 클라이언트와 서버 간의 연결을 유지하지 않습니다. 요청과 응답이 완료되면 연결이 끊어지기 때문에, 연결을 유지하려면 Keep-Alive를 이용해야 합니다.

4.동기(Synchronous)
* HTTP는 요청과 응답이 순차적으로 처리되는 동기(Synchronous) 프로토콜입니다. 클라이언트에서 요청을 보내면 서버에서 응답을 받기전까지 다른 작업을 수행하지 않습니다.

5.Plain Text
* HTTP는 기본적으로 평문(Plain Text)으로 데이터를 전송합니다. 따라서, 보안과 같은 중요한 정보를 전송할 때는 반드시 암호화를 해야합니다. 

6.Stateless VS Stateful
* HTTP는 Stateless 프로토콜이지만, Cookie나 Session과 같은 기술을 이용해 Stateful 하게 사용될 수 있습니다. 이 때문에 세션 관리와 보안 측면에서 취약점이 발생할 수 있으며, 적절한 보안 대책이 필요합니다.
# 쿠키와 세션
쿠키와 세션은 웹 개발에서 사용되는 기술로, 클라이언트와 서버 간의 상태 유지를 위해 사용됩니다.
## 쿠키
* 쿠키는 클라이언트 측에 저장되는 작은 데이터 파일이며, 서버에서 응답으로 전송되어 클라이언트 측에 저장됩니다. 이후 클라이언트가 서버에 요청을 보낼 때마다 해당 쿠키를 함께 전송하게 됩니다. 쿠키는 유효기간을 설정할 수 있으며, 유효기간이 지나면 자동으로 삭제됩니다.
## 세션
세션은 쿠키와 유사한 방식으로 클라이언트와 서버 간의 상태를 유지하는 기술입니다. 하지만 세션은 클라이언트에 직접 저장되는 것이 아니라, 서버 측에 저장됩니다. 클라이언트가 서버에 접속하면 서버는 고유한 세션 ID를 생성하고, 이를 쿠키 형태로 클라이언트에 전송합니다. 클라이언트는 이후 요청을 보낼 때마다 해당 쿠키를 함께 전송하고, 서버는 이를 기반으로 해당 클라이언트의 상태를 유지합니다. 세션은 보안성이 높고, 쿠키보다 더 많은 정보를 저장할 수 있으며, 브라우저가 종료되면 자동으로 삭제됩니다.

쿠키와 세션은 모두 클라이언트와 서버 간의 상태 유지를 위해 사용되지만, 쿠키는 클라이언트 측에서 저장되는 반면 세션은 서버 측에서 관리되며, 보안성과 데이터 저장 용량 등에서 차이가 있습니다. 따라서, 적절한 상황에서 적절한 기술을 사용하는 것이 중요합니다.
# HTTP Method
HTTP Method는 HTTP 요청 메시지에서 수행하려는 작업의 종류를 지정하는 역할을 합니다. HTTP 프로토코은 여러가지 HTTP Method를 정의하고 있으며, 클라이언트가 요청할 때 해당 작업을 수행하기 위한 메소드를 선택합니다.

가장 일반적으로 사용되는 HTTP Method는 다음과 같습니다.

1. GET: 서버로부터 정보를 조회하기 위한 메소드입니다. 요청된 URL의 정보를 가져오기 위해 사용됩니다.

2. POST: 서버로 데이터를 전송하기 위한 메소드입니다. 보통은 서버에 새로운 정보를 등록하기 위해 사용됩니다.

3. PUT: 서버에 새로운 정보를 등록하기 위한 메소드입니다. 이미 해당 정보가 존재한다면 갱신하고, 없다면 새로 등록합니다.

4. DELETE: 서버로부터 정보를 삭제하기 위한 메소드입니다.

5. HEAD: GET과 동일한 요청을 하지만, 응답 본문을 제외한 헤더 정보만을 받아옵니다. 주로 서버의 응답을 확인하기 위해 사용됩니다.

6. OPTIONS: 해당 URL에서 지원되는 메소들을 확인하기 위한 메소드입니다.

7. TRACE: 클라이언트가 보낸 요청이 서버에 도달하는 경로를 확인하기 위한 메소드입니다.

8. CONNECT: 클라이언트가 터널링 프로토콜을 통해 서버에 접속하기 위한 메소드입니다.

HTTP Method는 보안에도 영향을 미칩니다. 예를 들어 GET Method는 URL에 요청 데이터가 노출되 수 있으므로, 보안에 민감한 데이터를 전송하기에 적합하지 않습니다. 따라서 보안에 민감한 데이터를 전송할 때는 POST Method를 사용하는 것이 좋습니다. 또한 PUT Method는 새로운 정보를 등록하는 것이므로, 권한이 없는 사용자가 이 Method를 사용할 경우 보안에 취약할 수 있습니다.